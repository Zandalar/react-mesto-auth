{"version":3,"sources":["contexts/CurrentUserContext.js","utils/Api.js","images/header__logo.svg","images/button__menu.svg","images/button__close.svg","components/Header.js","utils/Preloader.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","utils/Validator.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletionCardPopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/reg_ok.svg","images/reg_error.svg","components/InfoTooltip.js","utils/Auth.js","components/notFound.js","components/MenuMobile.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_checkAnswer","data","method","body","JSON","stringify","name","about","link","id","isLiked","authorization","Header","userEmail","handleLogout","handleMenuClick","isMenuOpened","className","src","logo","alt","exact","path","to","onClick","type","closeImage","menuImage","Preloader","Card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","isLoading","avatar","Array","from","map","Footer","ImagePopup","onClose","isOpen","isolatePopup","PopupWithForm","title","onSubmit","children","noValidate","Validator","useState","values","setValues","errors","setErrors","isValid","setIsValid","handleChange","evt","target","value","validationMessage","closest","checkValidity","resetForm","EditProfilePopup","onUpdateUser","useRef","useEffect","setTimeout","current","focus","preventDefault","ref","placeholder","minLength","maxLength","onChange","required","EditAvatarPopup","onUpdateAvatar","disabled","AddPlacePopup","DeletionCardPopup","handleSubmit","card","Login","onLogin","email","password","Register","onRegister","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","errorText","okLogo","errorLogo","BASE_URL","checkAnswer","NotFound","MenuMobile","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletionCardPopupOpen","setIsDeletionCardPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","isMobileMenuOpened","setIsMobileMenuOpened","setIsLoading","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setStatus","setEmail","setErrorText","history","useHistory","getToken","jwt","localStorage","getItem","Authorization","auth","push","catch","err","console","log","handleEscClick","key","closeAllPopups","stopPropagation","removeItem","promises","getUserInfo","getInitialCards","all","userData","cardsList","finally","window","addEventListener","removeEventListener","Provider","item","changeLikeCardStatus","newCard","newCards","setItem","token","user","setUserInfo","setNewCard","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc4669d4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport const currentUser = {};\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkAnswer(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(res.status));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  setNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '41df799d-3987-4f60-8d34-e2c5aaa920c0',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/header__logo.c2821b38.svg\";","export default __webpack_public_path__ + \"static/media/button__menu.57f7784f.svg\";","export default __webpack_public_path__ + \"static/media/button__close.b9c42c3d.svg\";","import React from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport logo from '../images/header__logo.svg';\r\nimport menuImage from '../images/button__menu.svg';\r\nimport closeImage from '../images/button__close.svg'\r\n\r\nfunction Header({ userEmail, handleLogout, handleMenuClick, isMenuOpened }) {\r\n\r\n  return (\r\n    <header className='header'>\r\n      <img className='header__logo' src={logo} alt='Логотип сайта' />\r\n      <div className='header__user-info'>\r\n        <Route exact path='/sign-in'>\r\n          <Link to='/sign-up' className='header__link'>Регистрация</Link>\r\n        </Route>\r\n        <Route exact path='/sign-up'>\r\n          <Link to='/sign-in' className='header__link'>Войти</Link>\r\n        </Route>\r\n        <Route exact path='/'>\r\n          <p className='header__email'>{userEmail}</p>\r\n          <button\r\n            onClick={handleLogout}\r\n            className='header__logout'\r\n            type='button'>\r\n            Выйти\r\n          </button>\r\n          <button\r\n            onClick={handleMenuClick}\r\n            className='header__menu'\r\n            type='button'>\r\n            <img\r\n              className='header__image'\r\n              src={isMenuOpened ? closeImage : menuImage}\r\n              alt='Menu'/>\r\n          </button>\r\n        </Route>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction Preloader() {\r\n\treturn (\r\n\t\t<div className='preloader' />\r\n\t)\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ data, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = data.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`element__button-delete ${isOwn && 'element__button-delete_active'}`);\r\n  const isLiked = data.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = 'element__button-like_active';\r\n\r\n  function handleCardClick() {\r\n\t\tonCardClick(data);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n    onCardLike(data);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(data);\r\n  }\r\n\r\n\treturn (\r\n\t\t<li className='element' id={data._id}>\r\n\t\t\t<button className={cardDeleteButtonClassName} type='button' onClick={handleDeleteClick}>\r\n\t\t\t\t<div className='element__button-delete_top' />\r\n\t\t\t\t<div className='element__button-delete_bottom' />\r\n\t\t\t</button>\r\n\t\t\t<img className='element__photo' src={data.link} alt={data.name} onClick={handleCardClick} />\r\n\t\t\t\t<div className='element__description'>\r\n\t\t\t\t\t<h2 className='element__title'>{data.name}</h2>\r\n\t\t\t\t\t<div className='element__like-container'>\r\n\t\t\t\t\t\t<button className={`element__button-like ${isLiked && cardLikeButtonClassName}`} type='button' onClick={handleLikeClick} />\r\n\t\t\t\t\t\t<div className='element__like-count'>{data.likes.length}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Preloader from '../utils/Preloader';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ cards, onCardLike, onCardDelete, onCardClick, onEditAvatar, onEditProfile, onAddPlace, isLoading }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='main'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar-container'>\r\n          <button className='profile__button-avatar' id='avatar__button-edit' type='button' onClick={onEditAvatar} />\r\n          <img className='profile__avatar' id='avatar' src={currentUser.avatar} alt='Фото профиля' />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <h1 className='profile__info_name'>{currentUser.name}</h1>\r\n          <button className='profile__info_button-edit' id='button-edit' name='button-edit' type='button' onClick={onEditProfile} />\r\n          <h2 className='profile__info_about'>{currentUser.about}</h2>\r\n        </div>\r\n        <button className='profile__button-add' id='button-add' name='button-add' type='button' onClick={onAddPlace} />\r\n      </section>\r\n\r\n      <section className='elements'>\r\n        <ul className='element__table'>\r\n          {isLoading\r\n            ? <Preloader />\r\n            : Array.from(cards).map(data => {\r\n              return (\r\n                <Card key={data._id} data={data} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer () {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup({ name, data, onClose, isOpen, isolatePopup }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} id='popup__image' onClick={onClose}>\r\n      <div className='popup__container_image' onClick={isolatePopup}>\r\n        <img className='popup__image' src={data.link} alt={data.name} />\r\n        <h2 className='popup__title_image'>{data.name}</h2>\r\n        <button className='popup__button-close' id='image__button-close' type='button' onClick={onClose} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, isOpen, onClose, onSubmit, children, isolatePopup }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} id={`popup__${name}`} onClick={onClose}>\r\n      <div className='popup__container' onClick={isolatePopup}>\r\n        <button className='popup__button-close' id='profile__button-close' type='button' onClick={onClose} />\r\n        <h2 className='popup__title'>{title}</h2>\r\n        <form className='popup__form' name={name} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\n\r\nfunction Validator() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  function handleChange(evt) {\r\n    setValues({ ...values, [evt.target.name]: evt.target.value });\r\n    setErrors({ ...errors, [evt.target.name]: evt.target.validationMessage });\r\n    setIsValid(evt.target.closest('form').checkValidity());\r\n  }\r\n\r\n  function resetForm() {\r\n    setValues({});\r\n    setErrors({});\r\n    setIsValid(false);\r\n  }\r\n  return {\r\n    values, errors, isValid, handleChange, resetForm,\r\n  };\r\n}\r\n\r\nexport default Validator;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Validator from '../utils/Validator';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading, isolatePopup }) {\r\n  const { values, errors, isValid, handleChange, resetForm } = Validator();\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const name = React.useRef();\r\n  const about = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name.current.value,\r\n      about: about.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n    setTimeout(() => {name.current.focus()}, 0)\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isolatePopup={isolatePopup}\r\n    >\r\n      <input\r\n        ref={name}\r\n        placeholder={currentUser.name}\r\n        className='popup__field'\r\n        id='profile__name'\r\n        name='name'\r\n        type='text'\r\n        value={values.name || ''}\r\n        minLength='2'\r\n        maxLength='40'\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span\r\n        className='popup__field-error'\r\n        id='profile__name-error'>\r\n        {errors.name || ''}\r\n      </span>\r\n      <input\r\n        ref={about}\r\n        placeholder={currentUser.about}\r\n        className='popup__field'\r\n        id='profile__description'\r\n        name='about'\r\n        type='text'\r\n        value={values.about || ''}\r\n        minLength='2'\r\n        maxLength='200'\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span\r\n        className='popup__field-error'\r\n        id='profile__description-error'>\r\n        {errors.about || ''}\r\n      </span>\r\n      <button\r\n        className={`popup__button-save ${!isValid && 'popup__button-save_disabled'}`}\r\n        id='profile__button-save'\r\n        type='submit'>\r\n        {`${isLoading ? 'Сохранение...' : 'Сохранить'}`}\r\n      </button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport Validator from '../utils/Validator';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading, isolatePopup }) {\r\n  const {values, errors, isValid, handleChange, resetForm} = Validator();\r\n  const link = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: link.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    link.current.value = '';\r\n    resetForm();\r\n    setTimeout(() => {link.current.focus()}, 0)\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isolatePopup={isolatePopup}\r\n    >\r\n      <input\r\n        ref={link}\r\n        className='popup__field'\r\n        id='avatar__link'\r\n        name='link'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        value={values.link || ''}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span\r\n        className='popup__field-error'\r\n        id='avatar__link-error'>\r\n        {errors.link || ''}\r\n      </span>\r\n      <button\r\n        className={`popup__button-save ${!isValid && 'popup__button-save_disabled'}`}\r\n        id='avatar__button-save'\r\n        type='submit'\r\n        disabled={!isValid}>\r\n        {`${isLoading ? 'Сохранение...' : 'Сохранить'}`}\r\n      </button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport Validator from '../utils/Validator';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading, isolatePopup }) {\r\n  const { values, errors, isValid, handleChange, resetForm } = Validator();\r\n  const title = React.useRef();\r\n  const link = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: title.current.value,\r\n      link: link.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    title.current.value = '';\r\n    link.current.value = '';\r\n    resetForm();\r\n    setTimeout(() => { title.current.focus() }, 0)\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='place'\r\n      title='Новое место'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isolatePopup={isolatePopup}\r\n    >\r\n    <input\r\n      ref={title}\r\n      className='popup__field'\r\n      id='place__name'\r\n      name='name'\r\n      type='text'\r\n      placeholder='Название'\r\n      minLength='2'\r\n      maxLength='30'\r\n      value={values.title}\r\n      onChange={handleChange}\r\n      required\r\n    />\r\n    <span\r\n      className='popup__field-error'\r\n      id='place__name-error'>\r\n      {errors.name || ''}\r\n    </span>\r\n    <input\r\n      ref={link}\r\n      className='popup__field'\r\n      id='place__link'\r\n      name='link'\r\n      type='url'\r\n      placeholder='Ссылка на картинку'\r\n      value={values.link || ''}\r\n      onChange={handleChange}\r\n      required\r\n    />\r\n    <span\r\n      className='popup__field-error'\r\n      id='place__link-error'>\r\n      {errors.link || ''}\r\n    </span>\r\n    <button\r\n      className={`popup__button-save ${!isValid && 'popup__button-save_disabled'}`}\r\n      id='place__button-save'\r\n      type='submit'\r\n      disabled={!isValid}>\r\n      {`${isLoading ? 'Загрузка...' : 'Создать'}`}\r\n    </button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletionCardPopup({ isOpen, onClose, handleSubmit, card, isLoading, isolatePopup }) {\r\n\r\n  function submitDeletion(evt) {\r\n    evt.preventDefault();\r\n    handleSubmit(card);\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='delete'\r\n      title='Вы уверены?'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={submitDeletion}\r\n      isolatePopup={isolatePopup}>\r\n      <button\r\n        className='popup__button-save'\r\n        id='deletion__button-save'\r\n        type='submit'>\r\n        {`${isLoading ? 'Удаление...' : 'Да'}`}\r\n      </button>\r\n    </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\nexport default DeletionCardPopup;\r\n","import React from 'react';\r\nimport Validator from '../utils/Validator';\r\n\r\nfunction Login({ onLogin, isLoading }) {\r\n  const { values, errors, isValid, handleChange, resetForm } = Validator();\r\n  const email = React.useRef();\r\n  const password = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onLogin(\r\n      email.current.value,\r\n      password.current.value\r\n    )\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n    setTimeout(() => {email.current.focus()}, 0)\r\n  }, []);\r\n\r\n  return (\r\n    <div className='login'>\r\n      <h2 className='login__title'>Вход</h2>\r\n      <form className='login__form' onSubmit={handleSubmit}>\r\n        <input\r\n          ref={email}\r\n          className='login__input'\r\n          id='login__email'\r\n          name='email'\r\n          type='email'\r\n          placeholder='Email'\r\n          onChange={handleChange}\r\n          value={values.email || ''}\r\n          required\r\n        />\r\n        <span\r\n          className='login__error'\r\n          id='email__error'>\r\n          {errors.email || ''}\r\n        </span>\r\n        <input\r\n          ref={password}\r\n          className='login__input'\r\n          id='login__password'\r\n          name='password'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          onChange={handleChange}\r\n          value={values.password || ''}\r\n          required\r\n        />\r\n        <span\r\n          className='login__error'\r\n          id='email__error'>\r\n          {errors.password || ''}\r\n        </span>\r\n        <button\r\n          className={`login__button ${!isValid && 'login__button_disabled'}`}\r\n          id='login__submit-button'\r\n          type='submit'>\r\n          {`${isLoading ? 'Войти' : 'Вход...'}`}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Validator from '../utils/Validator';\r\n\r\nfunction Register({ onRegister, isLoading }) {\r\n  const { values, errors, isValid, handleChange, resetForm } = Validator();\r\n  const email = React.useRef();\r\n  const password = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onRegister(\r\n      email.current.value,\r\n      password.current.value\r\n    )\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n    setTimeout(() => {email.current.focus()}, 0)\r\n  }, []);\r\n\r\n  return (\r\n    <div className='register'>\r\n      <h2 className='register__title'>Регистрация</h2>\r\n      <form className='register__form' onSubmit={ handleSubmit }>\r\n        <input\r\n          ref={email}\r\n          className='register__input'\r\n          id='register__email'\r\n          name='email'\r\n          type='email'\r\n          placeholder='Email'\r\n          onChange={handleChange}\r\n          value={values.email || ''}\r\n          required\r\n        />\r\n        <span\r\n          className='register__error'\r\n          id='email__error'>\r\n          {errors.email || ''}\r\n        </span>\r\n        <input\r\n          ref={password}\r\n          className='register__input'\r\n          id='register__password'\r\n          name='password'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          onChange={handleChange}\r\n          value={values.password || ''}\r\n          required\r\n        />\r\n        <span\r\n          className='register__error'\r\n          id='password__error'>\r\n          {errors.password || ''}\r\n        </span>\r\n        <button\r\n          className={`register__button ${!isValid && 'register__button_disabled'}`}\r\n          id='login__submit-button'\r\n          type='submit'>\r\n          {`${isLoading ? 'Зарегистрироваться' : 'Регистрация...'}`}\r\n        </button>\r\n      </form>\r\n      <p className='register__subtitle'>\r\n        Уже зарегистрированы?&ensp;\r\n        <Link to='/sign-in' className='register__link'>Войти</Link>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      { props.loggedIn ? <Component { ...props } /> : <Redirect to='/sign-in' />}\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/reg_ok.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/reg_error.d4ce2a26.svg\";","import React from 'react';\r\nimport okLogo from '../images/reg_ok.svg';\r\nimport errorLogo from '../images/reg_error.svg';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, isolatePopup, status, errorText }) {\r\n  return (\r\n    <div className={`popup popup_type_info ${isOpen && 'popup_opened'}`} id='popup__info' onClick={onClose}>\r\n      <div className='popup__container' onClick={isolatePopup}>\r\n        <button className='popup__button-close' id='info__button-close' type='button' onClick={onClose} />\r\n          {status\r\n            ? <img src={okLogo} alt='Успешно' className='popup__status' />\r\n            : <img src={errorLogo} alt='Ошибка' className='popup__status' />\r\n          }\r\n        <h2 className='popup__status-title'>\r\n          {status\r\n            ? 'Вы успешно зарегистрировались!'\r\n            : errorText\r\n          }\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport function checkAnswer(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(res);\r\n}\r\n\r\nexport function register(email, password) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then(checkAnswer);\r\n}\r\n\r\nexport function authorize(email, password) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then(checkAnswer);\r\n}\r\n\r\nexport function checkToken(jwt) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${jwt}`,\r\n    },\r\n  })\r\n    .then(checkAnswer);\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NotFound() {\r\n  return(\r\n    <>\r\n      <div className='error'>\r\n        <p className='error__text'>E<span>r</span>ror</p>\r\n        <p className='error__number'>4<span>0</span><span>4</span></p>\r\n      </div>\r\n      <p className='error__message'>Такая страница не найдена или никогда не существовала</p>\r\n      <Link className='error__link' to='/'>&#8920; Вернуться</Link>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\n\r\nfunction MenuMobile({ userEmail, handleLogout }) {\r\n  return (\r\n    <div className='menu'>\r\n      <p className='menu__email'>{userEmail}</p>\r\n      <button onClick={handleLogout} className='menu__logout'>Выйти</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MenuMobile;\r\n","import React from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/Api';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletionCardPopup from './DeletionCardPopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/Auth';\r\nimport NotFound from './notFound';\r\nimport MenuMobile from './MenuMobile';\r\n\r\nfunction App() {\r\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n\tconst [isDeletionCardPopupOpen, setIsDeletionCardPopupOpen] = React.useState(false);\r\n\tconst [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\r\n\tconst [isMobileMenuOpened, setIsMobileMenuOpened] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [selectedCard, setSelectedCard] = React.useState({});\r\n\tconst [currentUser, setCurrentUser] = React.useState({});\r\n\tconst [cards, setCards] = React.useState([]);\r\n\tconst [loggedIn, setLoggedIn] = React.useState(false);\r\n\tconst [status, setStatus] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const [errorText, setErrorText] = React.useState('');\r\n  const history = useHistory();\r\n\r\n\tfunction handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n      const newCards = cards.map((data) => data._id === card._id ? newCard : data);\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      const newCards = cards.filter(item => item !== card);\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n\t  setIsLoading(true);\r\n    api.setUserInfo(user)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    setIsLoading(true);\r\n    api.editAvatar(link)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    setIsLoading(true);\r\n    api.setNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleRegister(email, password) {\r\n    setIsLoading(true);\r\n    auth.register(email, password)\r\n      .then((data) => {\r\n        setEmail(data.email)\r\n        setStatus(true);\r\n        history.push('/sign-in');\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(false);\r\n        if (err.status === 400) {\r\n          setErrorText('Некорректно заполнено одно из полей');\r\n        } else {\r\n          setErrorText(err.status);\r\n        }\r\n      })\r\n      .finally(() => {\r\n        setIsInfoTooltipPopupOpen(true);\r\n      })\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    setIsLoading(true);\r\n    setIsMobileMenuOpened(false);\r\n    auth.authorize(email, password)\r\n      .then(data => {\r\n        localStorage.setItem('jwt', data.token)\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n        setStatus(true);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(false);\r\n        setIsInfoTooltipPopupOpen(true)\r\n        if (err.status === 400) {\r\n          setErrorText('Не передано одно из полей');\r\n        } else if (err.status === 401) {\r\n          setErrorText('Пользователь с email не найден');\r\n        } else {\r\n          setErrorText(err.status);\r\n        }\r\n      })\r\n  }\r\n\r\n  function getToken() {\r\n    const jwt = localStorage.getItem('jwt')\r\n    if (jwt) {\r\n      auth.checkToken(jwt)\r\n        .then((res) => {\r\n          setLoggedIn(true);\r\n          setEmail(res.data.email);\r\n          history.push('/');\r\n        })\r\n        .catch((err) => {\r\n          if (err.status === 401) {\r\n            console.log('Токен не передан или передан не в том формате')\r\n          }\r\n          console.log(new Error(err.status))\r\n        })\r\n    }\r\n  }\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsEditProfilePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsEditAvatarPopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleCardClick(data) {\r\n\t\tsetSelectedCard(data);\r\n\t\tsetIsImagePopupOpen(true);\r\n\t}\r\n\r\n  function handleDeletionCardClick(data) {\r\n    setSelectedCard(data);\r\n    setIsDeletionCardPopupOpen(true);\r\n  }\r\n\r\n  function handleMenuClick() {\r\n\t  isMobileMenuOpened\r\n      ? setIsMobileMenuOpened(false)\r\n      : setIsMobileMenuOpened(true);\r\n  }\r\n\r\n  function handleEscClick(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n\tfunction closeAllPopups() {\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsDeletionCardPopupOpen(false);\r\n    setIsInfoTooltipPopupOpen(false);\r\n\t\tsetSelectedCard({});\r\n\t}\r\n\r\n  function isolatePopup(evt) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('jwt');\r\n    history.push('/sign-in');\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsLoading(true);\r\n    if (loggedIn) {\r\n      const promises = [api.getUserInfo(), api.getInitialCards()];\r\n      Promise.all(promises)\r\n        .then((res) => {\r\n          const [userData, cardsList] = res;\r\n          setCurrentUser(userData)\r\n          setCards(cardsList);\r\n        })\r\n        .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n        .finally(() => setIsLoading(false))\r\n    }\r\n  }, [loggedIn])\r\n\r\n  React.useEffect(() => {\r\n    getToken();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', handleEscClick);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEscClick);\r\n    }\r\n  })\r\n\r\n\treturn (\r\n\t  <CurrentUserContext.Provider value={currentUser}>\r\n      <div className='page'>\r\n        <div className='content'>\r\n          {isMobileMenuOpened && loggedIn && <MenuMobile userEmail={email} handleLogout={handleLogout} />}\r\n          <Header userEmail={email} handleLogout={handleLogout} handleMenuClick={handleMenuClick}  isMenuOpened={isMobileMenuOpened} />\r\n          <Switch>\r\n            <Route exact path='/'>\r\n              <ProtectedRoute\r\n              component={Main}\r\n              loggedIn={loggedIn}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDeletionCardClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              isLoading={isLoading}\r\n              />\r\n            </Route>\r\n            <Route path='/sign-up'>\r\n              <Register\r\n                onRegister={handleRegister}\r\n                isLoading={isLoading}\r\n              />\r\n            </Route>\r\n            <Route path='/sign-in'>\r\n              <Login\r\n                onLogin={handleLogin}\r\n                isLoading={isLoading}\r\n              />\r\n            </Route>\r\n            <Route exact path='/'>\r\n              { loggedIn\r\n                ? <Redirect to='/' />\r\n                : <Redirect to='/sign-in' />}\r\n            </Route>\r\n            <Route path='*'>\r\n              <NotFound />\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <ImagePopup\r\n            name='image'\r\n            data={selectedCard}\r\n            onClose={closeAllPopups}\r\n            isOpen={isImagePopupOpen}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <DeletionCardPopup\r\n            isOpen={isDeletionCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            handleSubmit={handleCardDelete}\r\n            card={selectedCard}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipPopupOpen}\r\n            onClose={closeAllPopups}\r\n            isolatePopup={isolatePopup}\r\n            status={status}\r\n            errorText={errorText}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}